# VR模组的解决方案
这里可以找到各种VR模组的解决方案和常见问题解答。

[入门指南](https://beastsaber.notion.site/beastsaber/Praydog-s-Resident-Evil-2-3-VR-mod-3db8bd110ebf4a38870e1a5114b16998)

新版本可以在[这里](https://github.com/praydog/REFramework-nightly/releases/)找到。

旧版RE2/RE3/RE7 beta版本可能在某些电脑上与模组更加稳定。您可以在Steam中的游戏属性下切换到beta版本。此后，需要下载旧版的模组，这些模组是发布的zip文件中带有“TDB”的文件。

## 报告错误
请在[问题](https://github.com/praydog/REFramework/issues)页面上报告。

如果您崩溃或遇到技术问题，请上传游戏文件夹中的以下文件：
* `re2_framework_log.txt`
* 如果您正在崩溃，则为`reframework_crash.dmp`

如果您没有`reframework_crash.dmp`而正在崩溃，请下载更新版本，链接在页面顶部。

## 使用动作控制器打开游戏内菜单（仅支持OpenVR）
用头部和右手瞄准左手掌心，不要按任何键，一个悬浮菜单应该会出现。

如果这无法正常工作，您可以使用Insert键打开桌面版本的菜单。这种方法无法在头盔中使用。

如果仍然无法正常工作，请在游戏目录中的`re2_fw_config.txt`中更改选项。

## 对于那些容易晕动病的人
在REFramework菜单的“VR”下启用“脱耦摄像机俯仰角”。这将阻止相机在垂直方向上移动。请注意，尽管这可能不会导致游戏出错，但在某些游戏部分中，当相机应该在垂直方向上移动或在剪辑场景中看着相机时，可能会使其不够清晰。

## 常见修复
* 重新启动SteamVR
* 禁用覆盖层软件
* 禁用SteamVR影院
* 禁用“硬件加速GPU调度”
   * 如果帧数极低，则必须禁用此项。
* 在DX11和DX12之间切换
* 戴上头盔然后摘掉

* 如果您的游戏呈“彩虹”颜色，或者您被困在SteamVR虚空中，则
    * 您拥有一个HDR显示器，必须以某种方式禁用HDR
    * 拔掉显示器暂时可以解决问题
    * 将游戏设置为窗口模式也可以解决此问题，全屏模式下HDR有时会被强制打开
* 如果您的屏幕带有黑色边框，请关闭无边界窗口模式
* 确保没有全局强制使用任何图形设置（例如来自Nvidia控制面板）
    * 例外情况是必须禁用HDR，否则游戏将无法在头盔中显示。

### 在RE2中
众所周知，在Birkin战斗中，如果时间过长，会出现柔锁定问题。只需禁用FirstPerson直到他再次出现即可解决它。

## 切换到OpenXR
默认情况下，REFramework使用OpenVR进行VR功能。在某些情况下，切换到OpenXR可以显著提高性能，从略微提高到显著提高不等。当以DX12运行游戏时，最明显的增益已被观察到，但您的效果可能会有所不同。

要切换到OpenXR，只需删除zip文件中附带的`openvr_api.dll`。请确保游戏文件夹中存在附带模组的`openxr_loader.dll`。

并非所有耳机都具有OpenXR运行时。像通过SteamVR本地运行的Index这样的耳机可能看不到性能提升。

如果您正在使用Oculus耳机或具有自己专用的OpenXR运行时的耳机，建议切换到您耳机制造商提供的运行时，例如Oculus耳机的Oculus OpenXR运行时。只有在耳机没有专用运行时或使用像Virtual Desktop这样的东西时才建议使用SteamVR作为运行时。

## OpenXR陷阱
* 尚无手腕叠加层以修改VR设置
* 修改控制器绑定不如OpenVR灵活
* 个人仅在Oculus Quest 2和CV1上进行了测试，并且已报告可以在Reverb G2上工作

## DMC5和MHRise怎么样？
它们都是完全的6DOF，但支持较少。

~~它们都有音频定位不正确的问题~~ **现在只有MHRise有该问题**。

~~DMC5有一些与某些不正确的UI元素有关的问题。~~ 最近的更新已经解决了这个问题。

## 游戏玩法
### 所有游戏
#### 切换武器
默认情况下，在支持的控制器上，通过左扳机+摇杆来切换。否则，“weapondial”将需要绑定到某些内容，或者d-pad绑定将需要绑定。

### RE2和RE3
### 普遍
* 动作控制器支持
* 基于头部的移动
* 平稳移动
* 平稳旋转
* 大多数右撇子

支持使用游戏手柄玩。当使用游戏手柄时，IK会被禁用。

### 手势
#### 打开地图
可以通过在将控制器放在头后/肩上时按下库存按钮来完成。

### 附加选项
#### 禁用准星
在REFramework菜单的“Script Generated UI”下有禁用它的选项。相应的脚本也可以从游戏目录中的`reframework/autorun`文件夹中删除。

---

### RE7和RE8
#### 普遍
* 动作控制器支持
* 基于头部的移动
* 平滑移动
* 平滑旋转
* 大多数右撇子

支持使用游戏手柄玩。

### 控制不起作用？
1. 拔下或断开您的游戏手柄。手柄会与VR控件冲突。
2. 不是所有的控制器都有适当的默认绑定，需要手动绑定。

### 身体烦人或妨碍了视角？
身体部位可以在 REFramework 菜单下的“RE8VR”中选择性禁用。

### 想要只玩 VR，没有脸部枪械或运动控制，或任何其他功能？
只需从“reframework”目录中删除“re8_vr.lua”即可。

### 出现图形设置错误
(RE7) 环境光遮蔽必须设置为SSAO或关闭。最大设置是有问题的/存在漏洞。

### 手势
#### 打开地图
可以通过按住控制器，将其放在头后面/肩膀上，然后按下库存按钮来完成。

#### 阻挡
将您的手放在面前。

#### 治疗
用右手到达您的头后方，按住握拳按钮，一个药瓶就会出现在您的手中。按下右扳机即可启动治疗。

如果你在第一次与Mia的战斗中拿出药瓶，可能会出现软锁定。

### 其他选项
#### 禁用十字准心
禁用它的选项在 REFramework 菜单下的“Script Generated UI”中。

## 绑定
绑定可以在 SteamVR 的控制器绑定部分更改。

已知的工作默认绑定：
* Oculus Touch
* Valve Index Knuckles

需要进一步测试：
* Vive Wands

如果一组控制器未按预期工作，它们可以在 SteamVR 控制器绑定中设置。

在 OpenXR 中，可以在“VR”下更改绑定。

## 性能
这些模组中最耗费资源的部分之一是您设置的**分辨率**。游戏内分辨率没有影响，必须在 SteamVR 中更改。

要在头戴式显示器上修改分辨率：
* 打开 SteamVR 叠加层
* 单击右下角的齿轮
* 单击“视频”
* 将“渲染分辨率”更改为“自定义”，然后降低分辨率直到可玩

您还可以使用 [openvr_fsr](https://github.com/fholger/openvr_fsr) 与此模组。

还有其他的高要求游戏画面质量设置（按大约性能影响排序）：
* 光线跟踪（目前仅适用于 RE8，需要非常强大的 GPU 以良好的帧速率运行）
* 图像质量（如果不确定，请将其设置为100％，如果提高性能，则将其降低）
* 阴影质量
* 屏幕空间反射
* 环境光遮蔽
* 次表面散射

其他一些：
* 网格质量

您可能需要从低级别开始或使用“性能优先”预设，并逐步提高为可接受的设置。

Lua 脚本会对性能产生轻微影响。如果您不介意在没有物理刀捅和物理手榴弹投掷的情况下玩游戏，可以从您的游戏目录中的`autorun`文件夹中删除它们各自的脚本。

启用 AFR/AER 可以在菜单的“VR”部分中完成。

## 哪些图形设置有问题？
体积光照，镜头耀斑，TAA 和运动模糊。需要有经验的人来修复这些问题。

最新的夜间版本中针对 TAA 有一个部分修复。 

## 哪些图形设置是强制的？
这些设置是强制的，但可以在 REFramework 菜单下的 VR 中关闭强制设置。

* FPS，被强制设置为“可变”（无上限）
* 抗锯齿，如果使用任何 TAA 变体，则被强制设置为“无”
* 运动模糊，被强制设置为“关闭”
* 垂直同步，被强制设置为“关闭”
* 镜头畸变，被强制设置为“关闭”
* 镜头耀斑，被强制设置为“关闭”
* 体积光照，被强制设置为“关闭”

这些强制更改在选项菜单中不可见，但将生效。