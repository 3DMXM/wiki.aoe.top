# UModel
UModel 通常用于浏览、查看和导出网格模型、骨骼网格、纹理、音频文件和配置文件。</br>
对于更复杂和深入的资产，如蓝图和材质，请使用 [FModel](./ExportingFModel.md)。
<br>
UModel 能够导出所有文件，但不能像 FModel 那样正确浏览它们。

## 设置
下载工具并启动它。<br>
![](/Media/umodel_1.png)<br>


- 指定游戏 Paks 文件夹的完整路径。
- 点击"Override game detection"（覆盖游戏检测）并指定游戏使用的确切 UE 版本。
- 如果你需要声音，勾选 Sound 复选框。
- 点击 OK。
- 如果 `.pak` 文件已加密，UModel 会要求输入 AES 密钥。
    

## 浏览资产
你将看到这样的窗口，左侧包含 pak 文件的层次结构，右侧包含当前选择的文件夹及其内容。
![](/Media/umodel_2.png)<br>

在这一部分，你需要探索一下，找到你想要/需要的内容。

双击网格模型和纹理将会预览它们。<br>
在预览中点击 `O` _(Omega 字母)_ 将关闭当前预览。

## 导出
一旦你找到正确的网格模型、纹理、蓝图等，你有两种导出选项：
- 按原样保存，这意味着纹理将被导出为 `.uasset`。
- - 如果你正在导出非媒体资产如蓝图，请使用此方法。
- - 如何操作？右键点击 -> Save Content。
- 常规导出，这意味着纹理将被导出为 `.png` 文件，骨骼网格(SK)将被导出为 `.psk` 文件。
- - 如果你正在导出媒体资产如网格模型和纹理，请使用此方法。
- - 如何操作？点击底部的 Export 按钮。

<br>


### 导出骨骼网格(SK)
![](/Media/umodel_3.png)<br>
- 选择你想要的文件，并点击底部的 Export。
- 指定导出路径。
- 确保骨骼网格为 `.psk` 格式，纹理为 `.png` 格式。
- 准备好后，点击 OK。


<br><br>
## 额外内容
设置 UModel 可能会重复，你可以创建一个简单的 `.bat` 脚本来自动化这个过程。

在这个例子中，我想自动打开 GR2 pak 文件，所以我将在 UModel 文件夹中创建一个 `GR2.bat` 文件。

_(用文本编辑器打开它)_

语法：
```
umodel.exe -game=<version> -path="<paks-folder>" -AES=<AES-key>
```

- 将 `<version>` 替换为 UE4 版本，例如 `-game=4.27`。
- 将 `<paks-folder>` 替换为游戏 Paks 文件夹的完整路径。
- 可选：如果你的游戏包含 AES，确保在末尾添加 `-AES=` 标签，后跟实际的 AES 密钥（`-AES=0x9ED...`）。

确保保存文件。<br>
当你想浏览特定游戏时，只需双击 `.bat` 脚本，而不是手动操作。

日后你会感谢我的。